(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{153:function(e,t,a){e.exports=a(329)},158:function(e,t,a){},329:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),u=a(25),c=a.n(u),s=(a(158),a(18)),o=a(19),i=a(21),l=a(11),m=a(20),h=a(29),p=a(331),d=a(332),v=a(127),f=a.n(v),b=a(48),y=a(64),k=a(9),g=a(330),j=a(131),E=a.n(j),O=a(132),C=a.n(O),w=a(24),x=a.n(w),S=a(27),A=a.n(S),R=Object(k.a)(x.a)({flexGrow:1}),T=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{position:"static"},r.a.createElement(C.a,null,r.a.createElement(R,{variant:"h6",color:"inherit"},r.a.createElement(g.a,{to:"/"},"Job Ads")),r.a.createElement(g.a,{to:"/add"},r.a.createElement(A.a,{color:"inherit"},"Add Customer"))))}}]),t}(n.Component),P=a(10),D=a.n(P),B=a(150),F=a(23),I=a(138),W=a.n(I),M=a(139),q=a.n(M),G="http://localhost:3001/api/",L=a(136),N=a.n(L),z=a(67),H=a.n(z);H.a.validators.presence.options={message:"This field is required."},H.a.validators.email.options={message:"Enter a valid email."};var J=function(e){var t={};return Object.keys(e).forEach(function(e){t["".concat(e,"Error")]=""}),t},$=function(e,t,a){var n={},r=function(e){if(Array.isArray(e))return e;if("string"===typeof e)return[e];if("object"===typeof e)return Object.keys(e);throw new Error("getFormFieldNames()",e)}(e)||[],u={},c={};r.forEach(function(e){u[e]=t[e],c[e]=a[e]});var s=H.a.validate(u,c,{fullMessages:!1})||{};return r.forEach(function(e){n["".concat(e,"Error")]=s[e]?s[e][0]:""}),n},V=a(135),U=a.n(V),X=a(85),Y=a.n(X),K=a(134),_=a.n(K),Q=a(133),Z=a.n(Q),ee=a(35),te=a.n(ee),ae=Object(k.a)(Y.a)(function(e){return{backgroundColor:e.bg,"div:first-child":{flex:1}}}),ne=Object(k.a)(x.a)({display:"flex",alignItems:"center",flex:1}),re=Object(k.a)(Z.a)(function(e){return{color:e.clr,marginRight:"close"===e.name?0:15,fontSize:20}}),ue=function(e){var t=e.name,a=e.clr;return r.a.createElement(re,{clr:a,name:t},t)},ce={success:"check_circle",error:"error"},se={success:_.a[600],error:"#f44336"},oe={success:3e3,error:5e4},ie=function(e){function t(e){var a;Object(s.a)(this,t),a=Object(i.a)(this,Object(l.a)(t).call(this,e));var n=e.message,r=e.type;return a.state={open:!!n,message:n,type:r},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.message,a=e.type,n=this.props,r=n.message,u=n.type;r!==t&&this.setState({message:t,open:!!t}),u!==a&&this.setState({type:a})}},{key:"handleClose",value:function(e,t){"clickaway"!==t&&this.setState({open:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.message,n=t.type,u=t.open,c=n||"success",s=ce[c],o=se[c],i=oe[c];return r.a.createElement(U.a,{open:u,autoHideDuration:i,onClose:function(){return e.handleClose()}},r.a.createElement(ae,{bg:o,message:r.a.createElement(ne,{color:"inherit",component:"span"},r.a.createElement(ue,{name:s}),a),action:[r.a.createElement(te.a,{key:"close",color:"inherit",onClick:function(){return e.handleClose()}},r.a.createElement(ue,{name:"close"}))]}))}}]),t}(n.Component),le=k.a.div({display:"flex",alignItems:"center",justifyContent:"center",minHeight:350}),me=function(e){function t(e,a){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={loading:!1,message:"",messageType:""},n.constraints=a,n.form=n.mapConstraintsToForm(a),n}return Object(m.a)(t,e),Object(o.a)(t,[{key:"mapConstraintsToForm",value:function(e){var t={};return Object.keys(e).forEach(function(e){t[e]=""}),t}},{key:"validateForm",value:function(){var e=$(this.form,this.state,this.constraints);return this.setState(e),Object.values(e).some(function(e){return!!e})}},{key:"renderLoader",value:function(){return r.a.createElement(le,null,r.a.createElement(N.a,{size:55}))}},{key:"renderMessage",value:function(){var e=this.state,t=e.message,a=e.messageType;if(t)return r.a.createElement(ie,{message:t,type:a})}}]),t}(n.Component),he=a(137),pe=a.n(he),de=k.a.div({maxWidth:600,margin:"24px auto"}),ve=Object(k.a)(W.a)({padding:8,marginBottom:20}),fe=Object(k.a)(q.a)({}),be=Object(k.a)(x.a)({fontSize:16,color:"rgba(0,0,0, .6)",marginBottom:5}),ye=Object(k.a)(x.a)({marginTop:25}),ke=k.a.li({color:"rgba(0,0,0, .5)",lineHeight:"1.8"}),ge=Object(k.a)(x.a)({marginBottom:16}),je=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e,{}))).state={customers:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(F.a)(D.a.mark(function e(){var t,a,n,r;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),e.next=3,Promise.all([this.fetchCustomers(),this.fetchAds()]);case 3:t=e.sent,a=Object(B.a)(t,2),n=a[0],r=a[1],this.setState({loading:!1,customers:n,ads:r});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchCustomers",value:function(){var e=Object(F.a)(D.a.mark(function e(){var t;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(G,"customers"));case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",[]);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchAds",value:function(){var e=Object(F.a)(D.a.mark(function e(){var t;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(G,"ads"));case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",[]);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"findAd",value:function(e){return this.state.ads.find(function(t){return t.id===e})}},{key:"renderRuleAds",value:function(e){var t=e.ads,a=e.deal,n=e.discount,r=e.bundle,u=this.findAd(t),c=u.name,s=u.price;return a?"Get a ".concat(a.get," for ").concat(a.replace," deal on ").concat(c,"s"):n?"Get a discount on ".concat(c,"s where the price drops to $").concat(s-n," per ad"):r?"Get a discount on ".concat(c,"s when ").concat(r.qty," or more are purchased. The price drops to $").concat(s-r.discount," per ad"):""}},{key:"renderRules",value:function(e){var t=this;return e&&0!==e.length?r.a.createElement("div",null,r.a.createElement(be,null,"Rules: "),r.a.createElement("ul",null,e.map(function(e){return r.a.createElement(ke,{key:e.ads},t.renderRuleAds(e))}))):r.a.createElement(be,null,"Rules: None")}},{key:"renderCustomer",value:function(e){var t=this,a=e.id,n=e.name,u=e.adIds,c=e.createdAt,s=e.rules,o=e.totalAmount;return r.a.createElement(ve,{key:a},r.a.createElement(fe,null,r.a.createElement(x.a,{variant:"h5",component:"h2",gutterBottom:!0},n),r.a.createElement(ge,{color:"primary",variant:"b",component:"b"},"Total: ",o),r.a.createElement(be,null,u.map(function(e){return t.findAd(e).name}).join(", ")),this.renderRules(s),r.a.createElement(ye,{component:"p",color:"textSecondary"},"Created At: ",pe()(c).format("LL"))))}},{key:"renderCustomers",value:function(){var e=this,t=this.state.customers;return r.a.createElement(de,null,t.map(function(t){return e.renderCustomer(t)}))}},{key:"render",value:function(){return this.state.loading?this.renderLoader():this.renderCustomers()}}]),t}(me),Ee=a(31),Oe=a.n(Ee),Ce=a(147),we=a.n(Ce),xe=a(68),Se=a.n(xe),Ae=a(69),Re=a.n(Ae),Te=a(70),Pe=a.n(Te),De=a(140),Be=a.n(De),Fe=a(143),Ie=a.n(Fe),We=a(142),Me=a.n(We),qe=a(141),Ge=a.n(qe),Le=a(59),Ne=a.n(Le),ze=Object(k.a)(x.a)({color:"#9e9e9e",marginTop:20}),He=Object(k.a)(Ne.a)({margin:"20px 0"}),Je=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,total:0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=Object(F.a)(D.a.mark(function e(){var t,a,n;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,a=t.total,n=t.customer,this.setState({total:a,customer:n,open:!0});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleClickOpen",value:function(){this.setState({open:!0})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"submit",value:function(){var e=this.props.submit;e&&e(),this.handleClose()}},{key:"render",value:function(){var e=this,t=this.state,a=t.customer,n=t.open,u=t.total;if(!a)return r.a.createElement("div",null);var c=a.name,s=a.adIds;return r.a.createElement(Be.a,{open:n,onClose:function(){return e.handleClose()}},r.a.createElement(Ge.a,null,"Hi ",c,", Are you sure to check out now?"),r.a.createElement(Me.a,null,r.a.createElement(ze,{variant:"h6",component:"p"},r.a.createElement("b",null,"SKUs: ")," ",s.join(", ")),r.a.createElement(He,null),r.a.createElement(x.a,{variant:"h5",component:"h5"},r.a.createElement("b",null,"Total: ")," $",u)),r.a.createElement(Ie.a,null,r.a.createElement(A.a,{onClick:function(){return e.handleClose()},color:"primary"},"Maybe Later"),r.a.createElement(A.a,{onClick:function(){return e.submit()},color:"primary",autoFocus:!0},"Checkout")))}}]),t}(n.Component),$e=a(41),Ve=a(66),Ue=a(32),Xe=a.n(Ue),Ye=a(88),Ke=a.n(Ye),_e=a(61),Qe=a.n(_e),Ze=a(63),et=a.n(Ze),tt=a(60),at=a.n(tt),nt=a(62),rt=a.n(nt),ut=a(144),ct=a.n(ut),st=k.a.div({display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:12}),ot=k.a.div({display:"flex",alignItems:"center",justifyContent:"center"}),it=Object(k.a)(te.a)({width:50,height:50,marginLeft:10}),lt=Object(k.a)(Ne.a)({margin:"12px 0 "}),mt=1,ht=2,pt=3,dt=[{value:mt,text:"Get X For Y"},{value:ht,text:"Discount"},{value:pt,text:"Bundle Set"}],vt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e,ft))).state={ads:[],rule:a.getDefaultRule(),ad:""},a.form={name:""},a.formError={},a.formError=J(a.form),a.state=Object(h.a)({},a.form,Object(Ve.a)(Object(l.a)(t.prototype),"state",Object($e.a)(a)),a.state),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.value;if(t!==this.props.value){var a=t.rule,n=t.ad;this.setState({rule:a,ad:n})}}},{key:"componentDidMount",value:function(){var e=Object(F.a)(D.a.mark(function e(){var t,a,n,r,u;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchAds();case 2:t=e.sent,a=(a=this.props.value)||{rule:this.getDefaultRule(),ad:t[0].id},r=(n=a).rule,u=n.ad,this.setState({ads:t,rule:r,ad:u});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getDefaultRule",value:function(){return{mode:dt[0].value,value1:"",value2:""}}},{key:"fetchAds",value:function(){var e=Object(F.a)(D.a.mark(function e(){var t;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(G,"ads"));case 3:return t=e.sent,e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",[]);case 12:case"end":return e.stop()}},e,this,[[0,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderPriceRule",value:function(){var e=this,t=this.state.rule,a=t.mode;return r.a.createElement(at.a,{fullWidth:!0,variant:"outlined",margin:"normal"},r.a.createElement(Qe.a,null,"Rules"),r.a.createElement(rt.a,{value:a,onChange:function(a){var n=a.target;t.mode=n.value,e.ruleChanged(t)},input:r.a.createElement(et.a,{labelWidth:40})},dt.map(function(e){return r.a.createElement(Ke.a,{key:e.value,value:e.value},e.text)})))}},{key:"renderPriceScenario",value:function(){var e=this.state.rule.mode;switch(e){case mt:return this.renderBothInputs(["Get X","For Y"]);case ht:return this.renderDiscountInputs();case pt:return this.renderBothInputs(["More than","Discount"]);default:throw new Error("".concat(e," is not avialable"))}}},{key:"renderBothInputs",value:function(e){var t=this,a=this.state.rule,n=a.value1,u=a.value2;return r.a.createElement(st,null,r.a.createElement(Xe.a,{value:n,onChange:function(e){var n=e.target;a.value1=n.value,t.ruleChanged(a)},margin:"normal",label:e[0],variant:"outlined"}),r.a.createElement(Xe.a,{value:u,onChange:function(e){var n=e.target;a.value2=n.value,t.ruleChanged(a)},margin:"normal",label:e[1],variant:"outlined"}))}},{key:"renderDiscountInputs",value:function(){var e=this,t=this.state.rule,a=t.value1,n=t.value1Error;return r.a.createElement(Xe.a,{error:!!n,helperText:n,value:a,onChange:function(a){var n=a.target;t.value1=n.value,e.ruleChanged(t)},margin:"normal",label:"Discount",variant:"outlined"})}},{key:"renderAds",value:function(){var e=this,t=this.state,a=t.ad,n=t.ads;return r.a.createElement(ot,null,r.a.createElement(at.a,{fullWidth:!0,variant:"outlined",margin:"normal"},r.a.createElement(Qe.a,null,"Ads"),r.a.createElement(rt.a,{value:a,onChange:function(t){return e.adChanged(t.target.value)},input:r.a.createElement(et.a,{labelWidth:28})},n.map(function(e){return r.a.createElement(Ke.a,{key:e.id,value:e.id},e.name)}))),r.a.createElement(it,{onClick:function(){return e.removeRule()}},r.a.createElement(ct.a,null)))}},{key:"renderAdContent",value:function(){var e=this.state,t=e.ad,a=e.ads.find(function(e){return e.id===t});if(a){var n=a.price,u=a.maxLength,c=a.allowLogo,s=a.priority;return r.a.createElement("ul",null,r.a.createElement("li",null,"Price : $",n),r.a.createElement("li",null,"Description max characters: ",u),c&&r.a.createElement("li",null,"Able to upload company logo"),s&&r.a.createElement("li",null,"Higher Visibility"))}}},{key:"onChange",value:function(e){var t=this.props.onChange;t&&t(e)}},{key:"adChanged",value:function(e){var t=this.state.rule;this.setState({ad:e}),this.onChange({ad:e,rule:t})}},{key:"ruleChanged",value:function(e){var t=this.state.ad;this.setState({rule:e}),this.onChange({ad:t,rule:e})}},{key:"removeRule",value:function(){var e=this.props.remove;e&&e()}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderAds(),this.renderAdContent(),this.renderPriceRule(),this.renderPriceScenario(),r.a.createElement(lt,null))}}]),t}(me),ft={name:{presence:{allowEmpty:!1}}},bt=Object(k.a)(A.a)({marginTop:15,marginBottom:10,marginRight:20}),yt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={rules:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.rules;t!==this.props.rules&&this.setState({rules:t})}},{key:"componentDidMount",value:function(){var e=this.props.rules;console.log(e),this.setState({rules:e})}},{key:"addRule",value:function(){var e=this.state.rules;e.push(void 0),this.setState({rules:e})}},{key:"removeRule",value:function(e){var t=this.state.rules;t.splice(e,1),this.setState({rules:t})}},{key:"ruleChanged",value:function(e,t){var a=this.state.rules;console.log("change",e),a[t]=e,this.setState({rules:a})}},{key:"back",value:function(){var e=this.props.back;e&&e()}},{key:"preparePriceRules",value:function(){var e=this;return this.state.rules.map(function(t){var a=t.ad,n=t.rule;return Object(h.a)({ads:a},e.prepareRule(n))})}},{key:"prepareRule",value:function(e){var t=e.mode,a=e.value1,n=e.value2;switch(t){case mt:return{deal:{get:a,replace:n}};case ht:return{discount:a};case pt:return{bundle:{qty:a,discount:n}};default:return{}}}},{key:"addedRule",value:function(e){e.preventDefault();var t=this.props.onSubmit,a=this.state.rules;t&&t({rules:a,request:this.preparePriceRules()})}},{key:"render",value:function(){var e=this,t=this.state.rules;return r.a.createElement("div",null,r.a.createElement(bt,{color:"primary",onClick:function(){return e.addRule()}},"Add Ad Rule"),r.a.createElement("form",{onSubmit:function(t){return e.addedRule(t)}},t.map(function(t,a){return r.a.createElement(vt,{key:a,value:t,remove:function(){return e.removeRule(a)},onChange:function(t){return e.ruleChanged(t,a)}})}),r.a.createElement("div",null,r.a.createElement(bt,{onClick:function(){return e.back()}},"Back"),r.a.createElement(bt,{variant:"contained",color:"primary",type:"submit"},"Next"))))}}]),t}(n.Component),kt=a(145),gt=a.n(kt),jt=a(146),Et=a.n(jt),Ot=k.a.div({position:"relative"}),Ct=Object(k.a)(te.a)({position:"absolute",top:0,right:0,height:56,width:56}),wt=Object(k.a)(te.a)({position:"absolute",top:0,right:50,height:56,width:56}),xt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={value:0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.value;e&&this.setState({value:e})}},{key:"componentWillReceiveProps",value:function(e){var t=e.value;t!==this.props.value&&this.setState({value:t})}},{key:"onChange",value:function(e){var t=this.props.onChange;t&&t(e)}},{key:"plus",value:function(){var e=this.state.value;e+=1,this.setState({value:e}),this.onChange(e)}},{key:"minus",value:function(){var e=this.state.value;e=Math.max(e-1,0),this.setState({value:e}),this.onChange(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.helperText,n=t.error,u=t.label,c=this.state.value;return r.a.createElement(Ot,null,r.a.createElement(Xe.a,{fullWidth:!0,error:n,helperText:a,value:c,onChange:function(t){return e.onChange(t.target.value)},label:u,InputProps:{readOnly:!0},variant:"outlined"}),r.a.createElement(Ct,{size:"small",onClick:function(){return e.plus()}},r.a.createElement(gt.a,null)),r.a.createElement(wt,{size:"small",onClick:function(){return e.minus()}},r.a.createElement(Et.a,null)))}}]),t}(n.Component),St=Object(k.a)(A.a)({marginTop:15,marginBottom:10,marginRight:20}),At=k.a.div({display:"grid",gridTemplateColumns:"1fr 1fr",gridGap:10,marginBottom:20,justifyItems:"center",alignItems:"center"}),Rt=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(a=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={ads:[]},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.ads;t!==this.props.ads&&this.setState({ads:t})}},{key:"componentDidMount",value:function(){var e=Object(F.a)(D.a.mark(function e(){var t;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.props.ads).length){e.next=5;break}e.t0=t,e.next=8;break;case 5:return e.next=7,this.fetchAds();case 7:e.t0=e.sent;case 8:t=e.t0,this.setState({ads:t});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchAds",value:function(){var e=Object(F.a)(D.a.mark(function e(){var t,a;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(G,"ads"));case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",a.map(function(e){return e.qty=0,e}));case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"back",value:function(){var e=this.props.back;e&&e()}},{key:"updateAdValue",value:function(e,t){var a=this.state.ads;a[t].qty=e,this.setState({ads:a})}},{key:"checkOut",value:function(){var e=Object(F.a)(D.a.mark(function e(t){var a,n,r,u;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.props,n=a.onSubmit,r=a.onChange,u=this.state.ads,r&&r({ads:u,request:u.reduce(function(e,t){return e.concat(new Array(t.qty).fill(t.id))},[])}),n&&n(t);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.ads;return r.a.createElement("form",{onSubmit:function(t){return e.checkOut(t)}},t.map(function(t,a){return r.a.createElement(At,{key:t.id},r.a.createElement(x.a,null,t.name),r.a.createElement(xt,{label:"qty",value:t.qty,onChange:function(t){return e.updateAdValue(t,a)}}))}),r.a.createElement("div",null,r.a.createElement(St,{onClick:function(){return e.back()}},"Back"),r.a.createElement(St,{variant:"contained",color:"primary",type:"submit"},"Check Out")))}}]),t}(n.Component),Tt=Object(k.a)(A.a)({marginTop:15,marginBottom:10,marginRight:20}),Pt=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e,Dt))).state={name:"",nameError:""},a.form={name:""},a.formError={},a.formError=J(a.form),a.state=Object(h.a)({},a.form,Object(Ve.a)(Object(l.a)(t.prototype),"state",Object($e.a)(a)),a.state),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.name;t!==this.props.name&&this.setState({name:t})}},{key:"componentDidMount",value:function(){var e=Object(F.a)(D.a.mark(function e(){var t;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.name,this.setState({name:t});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"back",value:function(){var e=this.props.back;e&&e()}},{key:"addCustomer",value:function(e){if(e.preventDefault(),!this.validateForm()){var t=this.props.onSubmit,a=this.state.name;t&&t({name:a})}}},{key:"render",value:function(){var e=this,t=this.state,a=t.name,n=t.nameError;return r.a.createElement("form",{onSubmit:function(t){return e.addCustomer(t)}},r.a.createElement(Xe.a,{fullWidth:!0,error:!!n,helperText:n,value:a,onChange:function(t){var a=t.target;return e.setState({name:a.value})},margin:"normal",label:"Customer Name",variant:"outlined"}),r.a.createElement(Tt,{variant:"contained",color:"primary",type:"submit"}," Next"))}}]),t}(me),Dt={name:{presence:{allowEmpty:!1}}},Bt=Object(k.a)(Oe.a)({maxWidth:600,margin:"24px auto",padding:24}),Ft=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e,{}))).state={step:0,rules:[],ads:[],customer:{},loading:!1,confirmation:!1},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"back",value:function(){var e=this.state.step;this.setState({step:e-1})}},{key:"addedRules",value:function(e){var t=e.rules,a=e.request,n=this.state.customer;n.rules=a,this.setState({rules:t,customer:n,step:2})}},{key:"updatedAds",value:function(e){var t=e.ads,a=e.request,n=this.state.customer;n.adIds=a,this.setState({ads:t,customer:n})}},{key:"addCustomer",value:function(e){var t=e.name,a=this.state.customer;a.name=t,this.setState({name:t,customer:a,step:1})}},{key:"checkOut",value:function(){var e=Object(F.a)(D.a.mark(function e(t){var a;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({loading:!0}),e.next=4,this.fetchTotal();case 4:a=e.sent,this.setState({loading:!1,confirmation:!0,total:a});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(F.a)(D.a.mark(function e(){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.postCustomer();case 3:this.setState({message:"Customer added!"}),this.props.history.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState({message:"Ops! Unable to add customer",type:"error"});case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"fetchTotal",value:function(){var e=Object(F.a)(D.a.mark(function e(){var t,a,n,r,u,c;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state,a=t.name,n=t.customer,e.next=4,fetch("".concat(G,"customer/total"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(Object(h.a)({name:a},n))});case 4:return r=e.sent,e.next=7,r.json();case 7:return u=e.sent,c=u.total,e.abrupt("return",c);case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}},e,this,[[0,12]])}));return function(){return e.apply(this,arguments)}}()},{key:"postCustomer",value:function(){var e=Object(F.a)(D.a.mark(function e(){var t,a,n;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.state,a=t.name,n=t.customer,e.next=4,fetch("".concat(G,"customer"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(Object(h.a)({name:a},n))});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"renderStepper",value:function(){var e=this.state.step;return r.a.createElement(we.a,{activeStep:e,orientation:"vertical"},this.renderCustomerForm(),this.renderRulesForm(),this.renderProductsForm())}},{key:"renderCustomerForm",value:function(){var e=this,t=this.state.name;return r.a.createElement(Se.a,null,r.a.createElement(Re.a,null,"Enter Customer Detail"),r.a.createElement(Pe.a,null,r.a.createElement(Pt,{name:t,back:function(){return e.back()},onSubmit:function(t){return e.addCustomer(t)}})))}},{key:"renderRulesForm",value:function(){var e=this,t=this.state.rules;return r.a.createElement(Se.a,null,r.a.createElement(Re.a,null,"Add Pricing Rules"),r.a.createElement(Pe.a,null,r.a.createElement(yt,{rules:t,back:function(){return e.back()},onSubmit:function(t){return e.addedRules(t)}})))}},{key:"renderProductsForm",value:function(){var e=this,t=this.state.ads;return r.a.createElement(Se.a,null,r.a.createElement(Re.a,null,"Select Ad Products"),r.a.createElement(Pe.a,null,r.a.createElement(Rt,{ads:t,back:function(){return e.back()},onSubmit:function(t){return e.checkOut(t)},onChange:function(t){return e.updatedAds(t)}})))}},{key:"renderForm",value:function(){var e=this,t=this.state,a=t.confirmation,n=t.total,u=t.customer;return r.a.createElement(Bt,{elevation:1},r.a.createElement(x.a,{variant:"h6",component:"h6"},"Add Customer"),this.renderStepper(),a&&r.a.createElement(Je,{open:a,total:n,customer:u,submit:function(){return e.submit()}}),this.renderMessage())}},{key:"render",value:function(){return this.state.loading?this.renderLoader():this.renderForm()}}]),t}(me),It=Object(y.createGenerateClassName)(),Wt=Object(b.create)(Object(h.a)({},Object(y.jssPreset)(),{insertionPoint:document.getElementById("jss-insertion-point")})),Mt=k.a.div({}),qt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{jss:Wt,generateClassName:It},r.a.createElement(p.a,null,r.a.createElement(Mt,null,r.a.createElement(T,null),r.a.createElement(d.a,{exact:!0,path:"/",component:je}),r.a.createElement(d.a,{path:"/add",component:Ft}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(qt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[153,1,2]]]);
//# sourceMappingURL=main.38ed1d1d.chunk.js.map